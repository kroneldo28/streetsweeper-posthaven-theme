<nav class="site-nav">
  <div class="nav-container">
    <a href="https://ronelkouakep.com" class="nav-logo" data-i18n-href="home">
      <!-- Icon K - visible when scrolled -->
      <img src="https://ronelkouakep.com/images/icon-k.png" alt="K" class="logo-icon" />
      <!-- Full logo - visible at top -->
      <img src="https://ronelkouakep.com/images/ronel-kouakep-logo.png" alt="Ronel Kouakep" class="logo-full" />
    </a>

    <div class="nav-links">
      <a href="https://ronelkouakep.com/about" data-i18n="nav.about" data-i18n-href="about">À propos</a>
      <a href="https://ronelkouakep.com/services" data-i18n="nav.services" data-i18n-href="services">Mes Services</a>
      <a href="https://ronelkouakep.com/portfolio" data-i18n="nav.portfolio" data-i18n-href="portfolio">Portfolio</a>
      <a href="{{ site.url }}" class="active" data-i18n="nav.blog">Blog</a>
    </div>

    <div class="nav-right">
      <div class="lang-toggle" id="langToggle">
        <button class="lang-btn active" data-lang="fr">FR</button>
        <span class="lang-separator">|</span>
        <button class="lang-btn" data-lang="en">EN</button>
      </div>

      <a href="https://ronelkouakep.com/booking" class="nav-cta" data-i18n="nav.cta" data-i18n-href="booking">Réserver</a>

      <!-- Hamburger button for mobile -->
      <button class="hamburger" aria-label="Menu" aria-expanded="false">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div class="mobile-menu">
    <a href="https://ronelkouakep.com/about" data-i18n="nav.about" data-i18n-href="about">À propos</a>
    <a href="https://ronelkouakep.com/services" data-i18n="nav.services" data-i18n-href="services">Mes Services</a>
    <a href="https://ronelkouakep.com/portfolio" data-i18n="nav.portfolio" data-i18n-href="portfolio">Portfolio</a>
    <a href="{{ site.url }}" class="active" data-i18n="nav.blog">Blog</a>
    <a href="https://ronelkouakep.com/booking" class="mobile-cta" data-i18n="nav.cta" data-i18n-href="booking">Réserver</a>
  </div>
</nav>

<script>
  (function() {
    var navLogo = document.querySelector('.nav-logo');
    var logoFull = document.querySelector('.logo-full');
    var logoIcon = document.querySelector('.logo-icon');
    var hamburger = document.querySelector('.hamburger');
    var mobileMenu = document.querySelector('.mobile-menu');
    var siteNav = document.querySelector('.site-nav');

    function handleScroll() {
      var isScrolled = window.scrollY > 50;
      if (isScrolled) {
        logoFull.classList.add('hidden');
        logoIcon.classList.add('visible');
      } else {
        logoFull.classList.remove('hidden');
        logoIcon.classList.remove('visible');
      }
    }

    function toggleMenu() {
      var isOpen = hamburger.classList.toggle('active');
      mobileMenu.classList.toggle('open');
      hamburger.setAttribute('aria-expanded', isOpen);
    }

    // Close menu when clicking a link
    mobileMenu.querySelectorAll('a').forEach(function(link) {
      link.addEventListener('click', function() {
        hamburger.classList.remove('active');
        mobileMenu.classList.remove('open');
        hamburger.setAttribute('aria-expanded', 'false');
      });
    });

    // Language toggle
    var langToggle = document.getElementById('langToggle');
    if (langToggle) {
      langToggle.querySelectorAll('.lang-btn').forEach(function(btn) {
        btn.addEventListener('click', function() {
          var lang = btn.getAttribute('data-lang');
          localStorage.setItem('blogLang', lang);
          langToggle.querySelectorAll('.lang-btn').forEach(function(b) {
            b.classList.remove('active');
          });
          btn.classList.add('active');
          // Trigger re-translation by dispatching custom event
          window.dispatchEvent(new CustomEvent('langChange', { detail: { lang: lang } }));
        });
      });
    }

    window.addEventListener('scroll', handleScroll);
    hamburger.addEventListener('click', toggleMenu);

    // Initial check
    handleScroll();
  })();
</script>
